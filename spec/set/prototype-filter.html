<!DOCTYPE html>
<p>When the `filter` method is called, the following steps are taken:</p>

<emu-alg>
  1. Let _set_ be the *this* value.
    1. If Type(_set_) is not Object, throw a *TypeError* exception.
    1. If _set_ does not have a [[SetData]] internal slot, throw a *TypeError* exception.
  1. If IsCallable(_callbackfn_) is false, throw a *TypeError* exception.
  1. If _thisArg_ was supplied, let _T_ be _thisArg_; else let _T_ be *undefined*.
  1. Let _Ctr_ be ? SpeciesConstructor(_set_, %Set%)
  1. Let _newSet_ be ? Construct(_Ctr_)
  1. Let _adder_ be ? Get(_newSet_, "add")
  1. If IsCallable(_adder_) is *false*, throw a *TypeError* exception.
  1. Let _entries_ be the List that is _set_.[[SetData]]
  1. For each _e_ that is an element of _entries_, in original insertion order, do:
    1. If _e_ is not `empty`, then
      1. Let _selected_ be ToBoolean(? Call(_callbackfn_, _T_, « _e_, _e_, _set_ »))
      1. If _selected_ is *true*, then:
        1. Call(_adder_, _set_, « _e_ »)
  1. Return _newSet_.

</emu-alg>
