<emu-note type="editor">
    This code serves as placeholder until formal spec is written for this method.
</emu-note>

<pre><code class="javascript">
function update(key, cb, thunk) {
    assert(isObject(this), 'this is not an object');
    assert(isCallable(callbackFn), 'callback is not a function');
    asset(isMap(this), 'this is not a Map instance');
    const isPresentInMap = this.has(key);
    if (isPresentInMap === false && arguments.length < 3) {
        throw new Error('Invalid!');
    }
    const value = isPresentInMap ? this.get(key) : thunk(key, this);
    const newValue = cb(value, key, this);
    this.set(key, newValue);
    return this;
}
</code></pre>